{"version":3,"sources":["app/actions/base.js","app/actions/project.js","app/config.js","app/controller.js","app/directives/checkbox/checkbox.js","app/directives/dropdown/dropdown.js","app/directives/index.js","app/directives/menu/menu.js","app/directives/menu/menuItem.js","app/directives/modal/modal.js","app/directives/profileImage/profileImage.js","app/directives/text/text.js","app/events/constants.js","app/events/dispatcher.js","app/events/emitter.js","app/init.js","app/models/base.js","app/models/project.js","app/pages/index.js","app/pages/timer/timer.js","app/stores/base.js","app/stores/index.js","app/stores/project.js","app/utilities.js"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAbA;AAAA;ACAA;AAAA;AACA;AACA;AACA;AAHA;AAAA;ACAA;AAAA;AACA;AACA;AAFA;AAAA;ACAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAzBA;AAAA;ACAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAtBA;AAAA;ACAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA1CA;AAAA;ACAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAVA;AAAA;CCAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAtBA;AAAA;ACAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAVA;AAAA;ACAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA5BA;AAAA;ACAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAbA;AAAA;ACAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAvBA;AAAA;ACAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAVA;AAAA;ACAA;AAAA;AACA;AACA;AACA;AACA;AACA;AALA;AAAA;ACAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AApBA;AAAA;ACAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAnBA;AAAA;ACAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAPA;AAAA;CCAA;AAAA;AACA;AACA;AAFA;AAAA;ACAA;AAAA;AACA;AACA;AAFA;AAAA;ACAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA5DA;AAAA;CCAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAzCA;AAAA;ACAA;AAAA;AACA;AACA;AACA;AACA;AAJA;AAAA;ACAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AARA;AAAA;ACAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA7BA;AAAA","file":"public/js/app.js","sourcesContent":["module.exports = function(constants) {\n\tthis.all = function() {\n\t\treturn {\n\t\t\ttype: constants.ALL\n\t\t};\n\t};\n\t\n\tthis.create = function(content) {\n\t\treturn {\n\t\t\ttype: constants.CREATE,\n\t\t\tcontent: content\n\t\t};\n\t};\n};","var BaseAction = require(\"actions/base\"),\n\tconstants = require(\"events/constants\");\n\nmodule.exports = new BaseAction(constants.project);","module.exports = {\n    apiUrl: \"fixtures/\"  \n};","var _first = true;\n\nmodule.exports = {\n    create: function(app, key, route, params) {\n        app.config(function($routeProvider) {\n            $routeProvider.when(route.url, { templateUrl: route.template, controller: key });\n        });\n        \n        app.run(function($rootScope) {\n            $rootScope.$on(\"$routeChangeSuccess\", function(scope, context) {\n                if (context.loadedTemplateUrl === route.template)\n                    $rootScope.title = route.title;\n            }); \n        });\n        \n        app.controller(key, function($scope, $rootScope) {\n            if (_first === true)\n                params.init($rootScope, $scope);\n            \n            _first = false;\n            \n            params.methods($rootScope, $scope);\n            params.load($rootScope, $scope);\n        });\n    }\n};","app.directive(\"checkbox\", function($sce) {\n\treturn {\n\t\trestrict: \"E\",\n\t\ttemplateUrl: \"directives/checkbox.html\",\n\t\ttransclude: true,\n\t\tscope: {\n\t\t\tchecked: \"=\"\n\t\t},\n\t\tlink: function(scope, element, attributes) {\n\t\t\tscope.info = $sce.trustAsHtml(attributes.info);\n\t\t\tscope.showing = false;\n\t\t\tscope.infoVisible = attributes.info && attributes.info != \"\";\n\n\t\t\tscope.toggle = function(event) {\n\t\t\t\tvar target = $(event.target);\n\t\t\t\tif (target.hasClass(\"fa-question\") || target.parents(\"modal\").length > 0)\n\t\t\t\t\treturn;\n\n\t\t\t\tscope.checked = !scope.checked;\n\t\t\t};\n\t\t}\n\t};\n});","var Utilities = require(\"utilities\");\n\napp.directive(\"dropdown\", function($rootScope) {\n\treturn {\n\t\trestrict: \"E\",\n\t\ttemplateUrl: \"directives/dropdown.html\",\n        scope: {\n            placeholder: \"@\",\n            list: \"=\",\n            property: \"@\",\n\t\t\tonChange: \"=change\",\n\t\t\tselected: \"=\"\n        },\n        link: function(scope) {\n            scope.listVisible = false;\n            scope.isPlaceholder = true;\n\t\t\t\n            scope.select = function(item) {\n                scope.isPlaceholder = false;\n                scope.selected = item;\n\t\t\t\tif (scope.onChange !== undefined)\n\t\t\t\t\tscope.onChange(item);\n            };\n            \n            scope.isSelected = function(item) {\n                return item.id === scope.selected.id;  \n            };\n            \n            $rootScope.$on(\"documentClicked\", function(inner, target) {\n                var classes = [\"dropdown-display\", \"clicked\"];\n\t\t\t\tif (!Utilities.hasClasses(target[0], classes) && !Utilities.parentHasClasses(target[0], classes))\n\t\t\t\t\tscope.$apply(function() {\n\t\t\t\t\t\tscope.listVisible = false;\n\t\t\t\t\t});\n\t\t\t});\n\t\t\t\n\t\t\tscope.$watch(\"selected\", function(value) {\n\t\t\t\tscope.isPlaceholder = scope.selected[scope.property] === undefined;\n\t\t\t\tscope.display = scope.selected[scope.property];\n\t\t\t});\n        }\n\t}\n});","[\n    \"menu/menu\",\n    \"menu/menuItem\",\n    \"profileImage/profileImage\",\n\t\"dropdown/dropdown\",\n\t\"checkbox/checkbox\",\n\t\"text/text\",\n    \"modal/modal\"\n].forEach(function(location) {\n\trequire(\"directives/\" + location);\n})","var Utilities = require(\"utilities\");\n\napp.directive(\"menu\", function($rootScope) {\n\treturn {\n\t\trestrict: \"E\",\n\t\ttemplateUrl: \"directives/menu.html\",\n\t\tscope: {\n\t\t\ttrigger: \"@\",\n\t\t\tvisible: \"=\"\n\t\t},\n\t\tlink: function(scope) {\n\t\t\tscope.name = \"Chris Harrington\";\n\t\t\tscope.email = \"chrisharrington99@gmail.com\";\n\t\t\t\n\t\t\t$rootScope.$on(\"documentClicked\", function(inner, target) {\n\t\t\t\tif (!Utilities.hasClass(target[0], scope.trigger) && !Utilities.parentHasClass(target[0], scope.trigger))\n\t\t\t\t\tscope.$apply(function() {\n\t\t\t\t\t\tscope.visible = false;\n\t\t\t\t\t});\n\t\t\t});\n\t\t}\n\t}\n});","app.directive(\"menuItem\", function() {\n    return {\n        restrict: \"E\",\n        templateUrl: \"directives/menuItem.html\",\n        transclude: true,\n\t\tscope: {\n\t\t\ticon: \"@\",\n\t\t\turl: \"@\"\n\t\t}\n    };\n});","app.directive(\"modal\", function($rootScope, $timeout) {\n\treturn {\n\t\trestrict: \"E\",\n\t\ttemplateUrl: \"directives/modal.html\",\n\t\ttransclude: true,\n\t\tscope: {\n\t\t\tvisible: \"=\",\n\t\t\ttitle: \"@\",\n\t\t\tloading: \"=\",\n\t\t\tok: \"=\",\n\t\t\tcancel: \"=\"\n\t\t},\n\t\tlink: function(scope, element, attributes) {\n\t\t\tscope.close = function() {\n\t\t\t\tscope.visible = false;\n\t\t\t\tif (scope.cancel !== undefined)\n\t\t\t\t\tscope.cancel();\n\t\t\t};\n\n\t\t\t$rootScope.$on(\"escapePressed\", function() {\n\t\t\t\tscope.$apply(function() {\n\t\t\t\t\tif (scope.visible === true) {\n\t\t\t\t\t\tscope.close();\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t\t}\n\t};\n});","app.directive(\"profileImage\", function($rootScope, md5) {\n\treturn {\n\t\trestrict: \"E\",\n\t\ttemplateUrl: \"directives/profileImage.html\",\n\t\tscope: {\n\t\t\temail: \"=\",\n\t\t\tsize: \"@\",\n\t\t\tid: \"=\"\n\t\t},\n\t\tlink: function(scope, element, attributes) {\n\t\t\tscope.location = \"http://gravatar.com/avatar/\" + md5.createHash(scope.email) + \"?s=\" + (scope.size || 35) + \"&d=mm\";\n\t\t}\n\t}\n});","app.directive(\"text\", function() {\n\treturn {\n\t\trestrict: \"E\",\n\t\ttemplateUrl: \"directives/text.html\",\n\t\tscope: {\n\t\t\ttype: \"@\",\n\t\t\tplaceholder: \"@\",\n\t\t\tname: \"@\",\n\t\t\ttab: \"@tabindex\",\n\t\t\tfocus: \"@\",\n\t\t\tvalue: \"&\",\n\t\t\tngModel: \"=\"\n\t\t},\n\t\tcompile: function(element) {\n\t\t\t$(element).on(\"focus\", \"input\", function() {\n\t\t\t\t$(element).addClass(\"focus\");\n\t\t\t});\n\n\t\t\t$(element).on(\"blur\", \"input\", function() {\n\t\t\t\t$(element).removeClass(\"focus\");\n\t\t\t});\n\t\t}\n\t}\n});","module.exports = {\n\tuser: {\n        ALL: \"all-users\",\n\t\tCREATE: \"create-user\"\n    },\n    \n    project: {\n        ALL: \"all-projects\",\n        CREATE: \"create-project\"\n    }\n};","/* jshint node: true */\n\"use strict\";\n\nvar Dispatcher = require(\"flux\").Dispatcher;\n\nmodule.exports = new Dispatcher();","module.exports = new function() {\n    this._registrants = {};\n    \n    this.on = function(key, registrant) {\n        if (!key || !registrant)\n            return;\n        \n        if (!this._registrants[key])\n            this._registrants[key] = [];\n        this._registrants[key].push(registrant);\n    };\n    \n    this.emit = function(key, data) {\n        if (!key || !this._registrants[key])\n            return;\n        \n        this._registrants[key].forEach(function(registrant) {\n            registrant(data); \n        });\n    };\n};","require(\"pages\");\nrequire(\"directives\");\nrequire(\"stores\");\n\napp.config(function($routeProvider) {\n\t$routeProvider.otherwise({ redirectTo: \"/timer\" });\n});\n\napp.run(function($rootScope) {\n\t$rootScope.menuVisible = false;\n\t\n\tangular.element(document).on(\"click\", function(e) {\n\t\t$rootScope.$broadcast(\"documentClicked\", angular.element(e.target));\n\t});\n    \n    angular.element(document).on(\"keyup\", function(e) {\n        if (e.keyCode === 27)\n\t\t  $rootScope.$broadcast(\"escapePressed\", angular.element(e.target));\n\t});\n});","module.exports = function(params) {\n    params = params || {};\n    _.extend(this, params);\n    \n    this.validate = params.validate || function() {\n        return true;\n    };\n}","var BaseModel = require(\"models/base\");\n\nmodule.exports = BaseModel;","[\"timer/timer\"].forEach(function(location) {\n\trequire(\"pages/\" + location);\n});","var ProjectActions = require(\"actions/project\"),\n    Project = require(\"models/project\"),\n    Controller = require(\"controller\"),\n    \n    dispatcher = require(\"events/dispatcher\"),\n    emitter = require(\"events/emitter\"),\n    constants = require(\"events/constants\");\n\nController.create(app, \"timer\", {\n    url: \"/timer\",\n    template: \"pages/timer.html\",\n    title: \"Timer\"\n}, {\n    init: function(rootScope, scope) {\n        emitter.on(constants.project.ALL, function(projects) {\n            scope.projects = [{ id: 0, name: \"Create a project...\" }].concat(projects);\n        });\n        \n        emitter.on(constants.project.CREATE, function(created) {\n            scope.$apply(function() {\n                scope.newProject.visible = false;\n                scope.newProject.project = {};\n                scope.newProject.loading = false;\n                scope.project = created;\n            });\n        });\n        \n        dispatcher.dispatch(ProjectActions.all());\n    },\n    \n    load: function(rootScope, scope) {\n        scope.project = {};\n        scope.newProject = _buildNewProjectContainer(scope);\n    },\n    \n    methods: function(rootScope, scope) {\n        scope.onSelect = function(selected) {\n            if (selected.id === 0)\n                scope.newProject.visible = true;\n        }\n    }\n});\n\nfunction _buildNewProjectContainer(scope) {\n    return {\n        visible: false,\n        loading: false,\n\n        project: new Project(),\n\n        ok: function() {\n            scope.newProject.loading = true;\n            dispatcher.dispatch(ProjectActions.create(scope.newProject.project));\n        },\n\n        cancel: function() {\n            scope.newProject.name = \"\";\n            scope.project = {};\n        }\n    };\n}","var dispatcher = require(\"events/dispatcher\"),\n    emitter = require(\"events/emitter\")\n    config = require(\"config\");\n\nvar _id = 100;\n\nmodule.exports = function(constants, collection) {\n    var me = this;\n    \n    this.all = function() {\n        if (this._collection !== undefined)\n            emitter.emit(constants.ALL, this._collection);\n        else {\n            $.getJSON(config.apiUrl + collection).then(function(models) {\n                me._collection = models;\n                emitter.emit(constants.ALL, models);\n            }).fail(function(e) {\n                emitter.emit(constants.ALL, e);\n            });\n        }\n    };\n    \n    this.create = function(item) {\n        $.post(config.apiUrl + collection, item).then(function() {\n            item.id = _id++;\n            me._collection.push(item);\n            me.all();\n            emitter.emit(constants.CREATE, item);\n        });\n    };\n    \n    dispatcher.register(function(payload) {\n\t\tswitch (payload.type) {\n\t\t\tcase constants.ALL:\n\t\t\t\tme.all();\n\t\t\t\tbreak;\n            case constants.CREATE:\n                me.create(payload.content);\n                break;\n\t\t}\n\t});\n};","[\n    \"project\"\n].forEach(function(location) {\n    require(\"stores/\" + location);\n});","/* jshint node: true */\n\"use strict\";\n\nvar Project = require(\"models/project\"),\n\tBaseStore = require(\"stores/base\"),\n\t\n\tconstants = require(\"events/constants\");\n\nmodule.exports = new BaseStore(constants.project, \"projects\");","module.exports = {\n    hasClass: function(element, className) {\n        return _.contains(element.className.split(\" \"), className);\n    },\n    \n    parentHasClass: function(element, className) {\n        while (element.parentNode !== null) {\n\t\t\tif (this.hasClass(element, className))\n\t\t\t\treturn true;\n\t\t\t\n\t\t\telement = element.parentNode;\n\t\t}\n\t\t\n\t\treturn false;\n    },\n    \n    hasClasses: function(element, classes) {\n        var me = this;\n        return _.every(classes, function(className) {\n            return me.hasClass(element, className);\n        });\n    },\n    \n    parentHasClasses: function(element, classes) {\n        var me = this;\n        return _.every(classes, function(className) {\n            return me.parentHasClass(element, className); \n        });\n    }\n};"]}